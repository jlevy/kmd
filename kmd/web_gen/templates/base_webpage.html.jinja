<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ title }}</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />

  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="https://cdn.jsdelivr.net/fontsource/fonts/pt-serif@latest/latin-400-italic.woff2" />
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="https://cdn.jsdelivr.net/fontsource/fonts/pt-serif@latest/latin-700-italic.woff2" />
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="https://cdn.jsdelivr.net/fontsource/fonts/varta:vf@latest/latin-wght-normal.woff2" />

  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js" defer></script>

  <style>
    @font-face {
      font-family: 'PT Serif';
      font-style: italic;
      font-display: block;
      font-weight: 400;
      src: url(https://cdn.jsdelivr.net/fontsource/fonts/pt-serif@latest/latin-400-italic.woff2) format('woff2'),
           url(https://cdn.jsdelivr.net/fontsource/fonts/pt-serif@latest/latin-400-italic.woff) format('woff');
      unicode-range: U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;
    }
    @font-face {
      font-family: 'PT Serif';
      font-style: italic;
      font-display: block;
      font-weight: 700;
      src: url(https://cdn.jsdelivr.net/fontsource/fonts/pt-serif@latest/latin-700-italic.woff2) format('woff2'),
           url(https://cdn.jsdelivr.net/fontsource/fonts/pt-serif@latest/latin-700-italic.woff) format('woff');
      unicode-range: U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;
    }
    @font-face {
      font-family: 'Varta';
      font-style: normal;
      font-display: block;
      font-weight: 300 700;
      src: url(https://cdn.jsdelivr.net/fontsource/fonts/varta:vf@latest/latin-wght-normal.woff2) format('woff2-variations');
      unicode-range: U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;
    }

    {% include "base_styles.css.jinja" %}
    {% include "content_styles.css.jinja" %}

    {% if footer %}
    {% include "pdf_styles.css.jinja" %}
    {% endif %}
  </style>

</head>

<body>
  {{ content|safe }}
</body>

<script>
  document.addEventListener('DOMContentLoaded', () => {
  const content = document.body;
  
  console.log("Suggesting size to parent:", content.offsetWidth, content.offsetHeight);
  window.parent.postMessage({
    type: 'suggestedSize',
    width: Math.max(content.offsetWidth, 600),
    height: Math.max(content.offsetHeight, 100)
    }, '*');
  });
</script>

</html>